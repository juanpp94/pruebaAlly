"use strict";(self.webpackChunkpruebaAlly=self.webpackChunkpruebaAlly||[]).push([[532],{8532:(G,p,a)=>{a.r(p),a.d(p,{WeatherModule:()=>z});var d=a(177),u=a(303),n=a(540),h=a(7414),C=a(1489),l=a(8913);function m(t,i){if(1&t&&(n.j41(0,"li"),n.EFF(1),n.k0s()),2&t){const o=i.$implicit;n.AVh("completed",o.completed),n.R7$(1),n.JRh(o.name)}}let f=(()=>{class t{constructor(){this.tasks=[]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=n.VBU({type:t,selectors:[["app-todo-list"]],inputs:{tasks:"tasks"},decls:5,vars:1,consts:[[1,"card-container"],[1,"card-info"],["title","OTRAS TAREAS"],[1,"todo-list"],[3,"completed",4,"ngFor","ngForOf"]],template:function(r,e){1&r&&(n.j41(0,"div",0)(1,"div",1),n.nrm(2,"app-card-header",2),n.j41(3,"ul",3),n.DNE(4,m,2,3,"li",4),n.k0s()()()),2&r&&(n.R7$(4),n.Y8G("ngForOf",e.tasks))},dependencies:[d.Sq,l.l],styles:['@charset "UTF-8";.card-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;background:white;border:none;border-radius:4px;box-shadow:5px 10px 10px #0003}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]{border:none;width:100%;border-radius:4px;overflow:hidden;background:white}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .todo-list[_ngcontent-%COMP%]{list-style:none;padding-left:20px;padding-right:20px}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{overflow-wrap:anywhere}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2022";color:#e0b046;font-size:2em;padding-right:.5em}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .todo-list[_ngcontent-%COMP%]   li.completed[_ngcontent-%COMP%]:before{color:green}']})}}return t})();function y(t,i){if(1&t){const o=n.RV6();n.j41(0,"picture",4),n.bIt("click",function(){const c=n.eBV(o).$implicit,s=n.XpG();return n.Njj(s.selectCountry(c))}),n.nrm(1,"img",5),n.j41(2,"p",6),n.EFF(3),n.k0s()()}if(2&t){const o=i.$implicit;n.R7$(1),n.Y8G("src",o.flags.png,n.B4B)("alt",o.flags.alt),n.R7$(2),n.JRh(o.name.common)}}let _=(()=>{class t{constructor(){this.onSelectedCountry=new n.bkB,this.countriesInfo=[]}selectCountry(o){this.onSelectedCountry.emit(o)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=n.VBU({type:t,selectors:[["app-countries-card-list"]],inputs:{countriesInfo:"countriesInfo"},outputs:{onSelectedCountry:"onSelectedCountry"},decls:4,vars:1,consts:[[1,"card-container"],[1,"card-info"],["title","PA\xcdSES DISPONIBLES"],["class","country",3,"click",4,"ngFor","ngForOf"],[1,"country",3,"click"],[3,"src","alt"],[1,"country-pointer"]],template:function(r,e){1&r&&(n.j41(0,"div",0)(1,"div",1),n.nrm(2,"app-card-header",2),n.DNE(3,y,4,3,"picture",3),n.k0s()()),2&r&&(n.R7$(3),n.Y8G("ngForOf",e.countriesInfo))},dependencies:[d.Sq,l.l],styles:[".card-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;background:white;border:none;border-radius:4px;box-shadow:5px 10px 10px #0003}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]{border:none;width:100%;border-radius:4px;overflow:hidden;background:white}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{background:#f8f8f8;margin:0;padding:0 3px;height:50px;display:flex;align-items:center}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#0161f2;font-weight:600}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0 20px}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .country[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center;width:20%;padding:8px 12px;cursor:pointer;transition:background .3s ease}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .country[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;object-fit:cover;display:block;margin-left:10px}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .country[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{cursor:pointer}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .country[_ngcontent-%COMP%]:hover{background:blue}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .country[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{text-decoration:underline}"]})}}return t})();function O(t,i){1&t&&n.nrm(0,"img",10)}function M(t,i){1&t&&n.nrm(0,"img",11)}function P(t,i){1&t&&n.nrm(0,"img",12)}function w(t,i){1&t&&n.nrm(0,"img",13)}function b(t,i){if(1&t&&(n.j41(0,"p"),n.EFF(1),n.k0s()),2&t){const o=n.XpG();n.R7$(1),n.SpI("",null==o.countryWeatherInfo?null:o.countryWeatherInfo.weather[0].main," ")}}let I=(()=>{class t{constructor(){this.countryWeatherInfo={}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=n.VBU({type:t,selectors:[["app-country-weather-card"]],inputs:{countryWeatherInfo:"countryWeatherInfo"},decls:13,vars:6,consts:[[1,"card-container"],[1,"card-info"],["title","CLIMA"],[1,"weather-container"],["src","../../../../assets/lluvioso.png","alt","lluvioso",4,"ngIf"],["src","../../../../assets/soleado.png","alt","soleado",4,"ngIf"],["src","../../../../assets/nublado.png","alt","nublado",4,"ngIf"],["src","../../../../assets/lluvioso.png","alt","tormenta",4,"ngIf"],[1,"weather-info"],[4,"ngIf"],["src","../../../../assets/lluvioso.png","alt","lluvioso"],["src","../../../../assets/soleado.png","alt","soleado"],["src","../../../../assets/nublado.png","alt","nublado"],["src","../../../../assets/lluvioso.png","alt","tormenta"]],template:function(r,e){1&r&&(n.j41(0,"div",0)(1,"div",1),n.nrm(2,"app-card-header",2),n.j41(3,"div",3)(4,"picture"),n.DNE(5,O,1,0,"img",4),n.DNE(6,M,1,0,"img",5),n.DNE(7,P,1,0,"img",6),n.DNE(8,w,1,0,"img",7),n.k0s(),n.j41(9,"div",8)(10,"p"),n.EFF(11),n.k0s(),n.DNE(12,b,2,1,"p",9),n.k0s()()()()),2&r&&(n.R7$(5),n.Y8G("ngIf","Rain"===e.countryWeatherInfo.weather[0].main||"Drizzle"===e.countryWeatherInfo.weather[0].main),n.R7$(1),n.Y8G("ngIf",e.countryWeatherInfo.weather&&e.countryWeatherInfo.weather.length>0&&"Clear"===e.countryWeatherInfo.weather[0].main),n.R7$(1),n.Y8G("ngIf",e.countryWeatherInfo.weather&&e.countryWeatherInfo.weather.length>0&&"Clouds"===e.countryWeatherInfo.weather[0].main),n.R7$(1),n.Y8G("ngIf","Thunderstorm"===e.countryWeatherInfo.weather[0].main),n.R7$(3),n.SpI(" ",null==e.countryWeatherInfo||null==e.countryWeatherInfo.main?null:e.countryWeatherInfo.main.temp," \xb0C"),n.R7$(1),n.Y8G("ngIf",(null==e.countryWeatherInfo?null:e.countryWeatherInfo.weather)&&(null==e.countryWeatherInfo?null:e.countryWeatherInfo.weather.length)>0))},dependencies:[d.bT,l.l],styles:[".card-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;background:white;border:none;border-radius:4px;box-shadow:5px 10px 10px #0003}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]{border:none;width:100%;border-radius:4px;overflow:hidden;background:white}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{background:#f8f8f8;margin:0;padding:0 3px;height:50px;display:flex;align-items:center}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#0161f2;font-weight:600}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0 20px}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .weather-container[_ngcontent-%COMP%]{margin:15px 0 0;display:flex;gap:50px}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .weather-container[_ngcontent-%COMP%]   picture[_ngcontent-%COMP%]{width:10%;padding:0 0 0 20px}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .weather-container[_ngcontent-%COMP%]   picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}"]})}}return t})();function x(t,i){if(1&t){const o=n.RV6();n.j41(0,"li",4),n.bIt("click",function(){const c=n.eBV(o).$implicit,s=n.XpG();return n.Njj(s.getTimeAndDate(c))}),n.j41(1,"u"),n.EFF(2),n.k0s()()}if(2&t){const o=i.$implicit;n.R7$(2),n.JRh(o)}}const T=function(t){return{"overflow-y":t}};let k=(()=>{class t{constructor(){this.onSelectedTimezone=new n.bkB,this.timezones=[]}getTimeAndDate(o){this.onSelectedTimezone.emit(o)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=n.VBU({type:t,selectors:[["app-countries-timezones-list"]],inputs:{timezones:"timezones"},outputs:{onSelectedTimezone:"onSelectedTimezone"},decls:5,vars:4,consts:[[1,"card-container"],[1,"card-info","timezones",3,"ngStyle"],["title","ZONAS HORARIAS DISPONIBLES"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(r,e){1&r&&(n.j41(0,"div",0)(1,"div",1),n.nrm(2,"app-card-header",2),n.j41(3,"ul"),n.DNE(4,x,3,1,"li",3),n.k0s()()()),2&r&&(n.R7$(1),n.Y8G("ngStyle",n.eq3(2,T,(null==e.timezones?null:e.timezones.length)>3?"scroll":"")),n.R7$(3),n.Y8G("ngForOf",e.timezones))},dependencies:[d.Sq,d.B3,l.l],styles:[".card-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;background:white;border:none;border-radius:4px;box-shadow:5px 10px 10px #0003}.card-container[_ngcontent-%COMP%]   .timezones[_ngcontent-%COMP%]{max-height:300px}.card-container[_ngcontent-%COMP%]   .timezones[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:20px;cursor:pointer}.card-container[_ngcontent-%COMP%]   .timezones[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#0161f2}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]{border:none;width:100%;border-radius:4px;overflow:hidden;background:white}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{background:#f8f8f8;margin:0;padding:0 3px;height:50px;display:flex;align-items:center}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#0161f2;font-weight:600}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0 20px}"]})}}return t})(),v=(()=>{class t{constructor(){this.currentDateAndTime={},this.selectedCountry={}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=n.VBU({type:t,selectors:[["app-country-hour-card"]],inputs:{currentDateAndTime:"currentDateAndTime",selectedCountry:"selectedCountry"},decls:10,vars:4,consts:[[1,"card-container"],[1,"card-info"],["title","HORA"]],template:function(r,e){1&r&&(n.j41(0,"div",0)(1,"div",1),n.nrm(2,"app-card-header",2),n.j41(3,"p")(4,"span"),n.EFF(5),n.k0s(),n.j41(6,"span"),n.EFF(7),n.k0s()(),n.j41(8,"p"),n.EFF(9),n.k0s()()()),2&r&&(n.R7$(5),n.JRh(e.currentDateAndTime.fecha),n.R7$(2),n.SpI(", ",e.currentDateAndTime.hora,""),n.R7$(2),n.Lme("",null==e.selectedCountry?null:e.selectedCountry.region,"/",null==e.selectedCountry?null:e.selectedCountry.capital,""))},dependencies:[l.l],styles:[".card-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;background:white;border:none;border-radius:4px;box-shadow:5px 10px 10px #0003}.card-container[_ngcontent-%COMP%]   .timezones[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]{border:none;width:100%;border-radius:4px;overflow:hidden;background:white}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0 20px}"]})}}return t})(),S=(()=>{class t{constructor(){this.selectedCountry={}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=n.VBU({type:t,selectors:[["app-country-data-card"]],inputs:{selectedCountry:"selectedCountry"},decls:14,vars:5,consts:[[1,"card-container"],[1,"card-info"],["title","PA\xcdS SELECCIONADO"]],template:function(r,e){1&r&&(n.j41(0,"div",0)(1,"div",1),n.nrm(2,"app-card-header",2),n.j41(3,"p"),n.EFF(4),n.k0s(),n.j41(5,"p"),n.EFF(6),n.k0s(),n.j41(7,"p"),n.EFF(8),n.k0s(),n.j41(9,"p")(10,"span"),n.EFF(11),n.k0s(),n.j41(12,"span"),n.EFF(13),n.k0s()()()()),2&r&&(n.R7$(4),n.JRh(null==e.selectedCountry?null:e.selectedCountry.name.common),n.R7$(2),n.SpI("Capital: ",null==e.selectedCountry?null:e.selectedCountry.capital,""),n.R7$(2),n.SpI("Region: ",null==e.selectedCountry?null:e.selectedCountry.region,""),n.R7$(3),n.SpI("Latitud: ",null==e.selectedCountry?null:e.selectedCountry.latlng[0],""),n.R7$(2),n.SpI(" Longitud: ",null==e.selectedCountry?null:e.selectedCountry.latlng[1],""))},dependencies:[l.l],styles:[".card-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;background:white;border:none;border-radius:4px;box-shadow:5px 10px 10px #0003}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]{border:none;width:100%;border-radius:4px;overflow:hidden;background:white}.card-container[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0 20px}"]})}}return t})();function W(t,i){if(1&t&&n.nrm(0,"app-country-weather-card",10),2&t){const o=n.XpG();n.Y8G("countryWeatherInfo",o.countryWeatherInfo)}}const F=[{path:"",component:(()=>{class t{constructor(o,r,e){this.countryService=o,this.taskService=r,this.router=e,this.countries=["germany","france","mexico","venezuela"],this.countriesInfo=[],this.selectedCountry=null,this.currentDateAndTime={},this.countryWeatherInfo={},this.tasks=[],this.nextCountryWeather=()=>{this.getCountryWeather()},this.nextCountry=c=>{this.countriesInfo.push(c[0]),this.selectedCountry=this.countriesInfo[0],this.getTimeAndDate(this.selectedCountry.timezones[0])},this.nextWeather=c=>{this.countryWeatherInfo=c}}ngOnInit(){this.getCountries(),this.getTasks()}getCountries(){for(let o=0;o<this.countries.length;o++)this.getCountry(this.countries[o])}getTasks(){this.tasks=this.taskService.getTasks()}getCountryWeather(){this.weatherSubscription=this.countryService.getWeather(this.selectedCountry?.capital).subscribe({next:this.nextWeather})}getTimeAndDate(o){let r=this.getDateTimeFromUTCOffset(o);this.currentDateAndTime=r}selectCountry(o){this.selectedCountry=o,this.getCountryWeather()}getCountry(o){this.countrySubscription=this.countryService.getCountry(o).subscribe({next:this.nextCountry,complete:this.nextCountryWeather})}ngOnDestroy(){this.countrySubscription&&this.countrySubscription.unsubscribe(),this.weatherSubscription&&this.weatherSubscription.unsubscribe()}getDateTimeFromUTCOffset(o){const r=o.match(/UTC([+-]\d{1,2}):(\d{2})/);if(!r)throw new Error("Formato de zona horaria no v\xe1lido");let e=parseInt(r[1],10);const c=parseInt(r[2],10),j=60*(60*e+Math.sign(e)*c)*1e3,$=(new Date).getTime()+j,g=new Date($);return{fecha:g.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",timeZone:"UTC"}),hora:g.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0,timeZone:"UTC"})}}static{this.\u0275fac=function(r){return new(r||t)(n.rXU(h.o),n.rXU(C.R),n.rXU(u.Ix))}}static{this.\u0275cmp=n.VBU({type:t,selectors:[["app-weather-page"]],decls:10,vars:7,consts:[[1,"weather-content"],[1,"first-column"],[3,"selectedCountry"],[3,"tasks"],[1,"second-column"],[3,"countryWeatherInfo",4,"ngIf"],[3,"timezones","onSelectedTimezone"],[3,"currentDateAndTime","selectedCountry"],[1,"third-column"],[3,"countriesInfo","onSelectedCountry"],[3,"countryWeatherInfo"]],template:function(r,e){1&r&&(n.j41(0,"section",0)(1,"div",1),n.nrm(2,"app-country-data-card",2)(3,"app-todo-list",3),n.k0s(),n.j41(4,"div",4),n.DNE(5,W,1,1,"app-country-weather-card",5),n.j41(6,"app-countries-timezones-list",6),n.bIt("onSelectedTimezone",function(s){return e.getTimeAndDate(s)}),n.k0s(),n.nrm(7,"app-country-hour-card",7),n.k0s(),n.j41(8,"div",8)(9,"app-countries-card-list",9),n.bIt("onSelectedCountry",function(s){return e.selectCountry(s)}),n.k0s()()()),2&r&&(n.R7$(2),n.Y8G("selectedCountry",e.selectedCountry),n.R7$(1),n.Y8G("tasks",e.tasks),n.R7$(2),n.Y8G("ngIf",e.countryWeatherInfo),n.R7$(1),n.Y8G("timezones",null==e.selectedCountry?null:e.selectedCountry.timezones),n.R7$(1),n.Y8G("currentDateAndTime",e.currentDateAndTime)("selectedCountry",e.selectedCountry),n.R7$(2),n.Y8G("countriesInfo",e.countriesInfo))},dependencies:[d.bT,f,_,I,k,v,S],styles:[".weather-content[_ngcontent-%COMP%]{display:flex;justify-content:space-around;z-index:1}.weather-content[_ngcontent-%COMP%]   .first-column[_ngcontent-%COMP%], .weather-content[_ngcontent-%COMP%]   .second-column[_ngcontent-%COMP%], .weather-content[_ngcontent-%COMP%]   .third-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;gap:20px;bottom:80px}"]})}}return t})()}];let R=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=n.$C({type:t})}static{this.\u0275inj=n.G2t({imports:[u.iI.forChild(F),u.iI]})}}return t})();var D=a(3887);let z=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=n.$C({type:t})}static{this.\u0275inj=n.G2t({imports:[d.MD,R,D.G]})}}return t})()}}]);